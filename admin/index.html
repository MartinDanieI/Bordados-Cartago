<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Administrador de Contenido</title>
</head>
<body>
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>

  <script>
    var h = React.createElement;

    const ProductPreview = createClass({
      render: function() {
        const entry = this.props.entry;
        const title = entry.getIn(['data', 'title']) || 'Cargando...';
        const image = this.props.getAsset(entry.getIn(['data', 'image']));
        const price = entry.getIn(['data', 'price']) || 0;
        const description = entry.getIn(['data', 'description']) || '...';
        const code = entry.getIn(['data', 'code']) || '...';
        
        // Esta es una versión simplificada de tu página de producto para la preview
        return h('div', { style: { padding: '20px', fontFamily: 'Inter, sans-serif' } },
          h('h2', { style: { fontSize: '24px', fontWeight: 'bold' } }, title),
          h('img', { src: image ? image.toString() : '', style: { width: '100%', marginTop: '15px' } }),
          h('p', { style: { marginTop: '10px' } }, h('b', {}, 'Código: '), code),
          h('p', { style: { marginTop: '10px' } }, description),
          h('p', { style: { marginTop: '15px', fontSize: '20px', fontWeight: 'bold' } }, '$' + price.toLocaleString('es-CO'))
        );
      }
    });

    CMS.registerPreviewTemplate('productos', ProductPreview);
  </script>
</body>
</html>